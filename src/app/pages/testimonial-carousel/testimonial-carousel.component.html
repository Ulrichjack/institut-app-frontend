<div class="testimonial-carousel">
  <h2>TÉMOIG<span class="highlight">NAGES</span></h2>

  <swiper-container
    slides-per-view="1"
    space-between="30"
    loop="false"
    autoplay="true"
    pagination="true"
    pagination-clickable="true"
    navigation="true"
    centered-slides="false"
    breakpoints='{
      "640": {
        "slidesPerView": 1,
        "spaceBetween": 20
      },
      "768": {
        "slidesPerView": 2,
        "spaceBetween": 30
      },
      "1024": {
        "slidesPerView": 3,
        "spaceBetween": 40
      }
    }'
  >
    @for (testimonial of testimonials; track testimonial.name; let i = $index) {
      <swiper-slide>
        <div class="testimonial-card"
             (mouseenter)="onCardHover($event, true)"
             (mouseleave)="onCardHover($event, false)">
          <!-- Section photo en haut -->
          @if (testimonial.photo) {
            <div class="testimonial-photo-section">
              <div class="author-photo">
                <img [src]="testimonial.photo" [alt]="testimonial.name" />
              </div>
            </div>
          }

          <!-- Contenu du témoignage -->
          <div class="testimonial-content">
            <p class="quote">{{ testimonial.content }}</p>
          </div>

          <!-- Informations auteur en bas -->
          <div class="testimonial-author">
            <div class="author-info">
              <h4 class="author-name">{{ testimonial.name }}</h4>
              @if (testimonial.role) {
                <p class="author-role">{{ testimonial.role }}</p>
              }
            </div>
          </div>
        </div>
      </swiper-slide>
    }
  </swiper-container>
</div>
