<div class="modal-overlay" (click)="close.emit()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="close-btn" (click)="close.emit()" aria-label="Fermer">×</button>
    <h2 class="modal-title">Pré-inscription à {{ formation.nom }}</h2>

    <form [formGroup]="inscriptionForm" (ngSubmit)="submit()">
      <div class="form-group">
        <label for="nom">Nom *</label>
        <input
          id="nom"
          formControlName="nom"
          required
          placeholder="Votre nom complet"
        />
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input
          id="email"
          formControlName="email"
          required
          type="email"
          placeholder="votre.email@exemple.com"
        />
      </div>

      <div class="form-group">
        <label for="telephone">Téléphone</label>
        <input
          id="telephone"
          formControlName="telephone"
          placeholder="+237 6 56 34 56 78"
        />
      </div>

      <div class="form-group">
        <label for="ville">Ville</label>
        <input
          id="ville"
          formControlName="ville"
          placeholder="Votre ville de résidence"
        />
      </div>

      <div class="form-group">
        <label for="disponibilites">Disponibilités</label>
        <input
          id="disponibilites"
          formControlName="disponibilites"
          placeholder="Ex: Lundi-Vendredi 9h-17h, week-ends..."
        />
      </div>

      <div class="form-group">
        <label for="message">Message *</label>
        <textarea
          id="message"
          formControlName="message"
          required
          rows="4"
          placeholder="Parlez-nous de votre projet, vos objectifs et motivations pour cette formation..."
        ></textarea>
      </div>

      <button
        type="submit"
        [disabled]="inscriptionForm.invalid || isLoading"
        class="btn btn-primary w-100"
      >
        {{ isLoading ? 'Envoi en cours...' : 'Envoyer ma pré-inscription' }}
      </button>
    </form>

    <div *ngIf="isLoading" class="modal-loader">
      Enregistrement de votre pré-inscription
    </div>

    <div *ngIf="successMessage" class="modal-success">
      {{ successMessage }}
    </div>

    <div *ngIf="errorMessage" class="modal-error">
      {{ errorMessage }}
    </div>
  </div>
</div>
